import{_ as e,c as r,a2 as d,o as a}from"./chunks/framework.Bt53DRYp.js";const g=JSON.parse('{"title":"Switch Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"network/switch.md","filePath":"network/switch.md"}'),i={name:"network/switch.md"};function o(n,t,l,s,h,c){return a(),r("div",null,t[0]||(t[0]=[d('<h1 id="switch-configuration" tabindex="-1">Switch Configuration <a class="header-anchor" href="#switch-configuration" aria-label="Permalink to &quot;Switch Configuration&quot;">​</a></h1><p>This page documents the configuration of network switches in your home lab infrastructure.</p><h2 id="hardware-specifications" tabindex="-1">Hardware Specifications <a class="header-anchor" href="#hardware-specifications" aria-label="Permalink to &quot;Hardware Specifications&quot;">​</a></h2><h3 id="core-switch" tabindex="-1">Core Switch <a class="header-anchor" href="#core-switch" aria-label="Permalink to &quot;Core Switch&quot;">​</a></h3><ul><li><strong>Model</strong>: Unifi USW-24-POE</li><li><strong>Ports</strong>: 24x 1GbE RJ45 (16x PoE+), 2x 10G SFP+</li><li><strong>PoE Budget</strong>: 195W</li><li><strong>Management</strong>: Unifi Controller</li><li><strong>Location</strong>: Middle of rack</li></ul><h3 id="server-switch" tabindex="-1">Server Switch <a class="header-anchor" href="#server-switch" aria-label="Permalink to &quot;Server Switch&quot;">​</a></h3><ul><li><strong>Model</strong>: Unifi USW-16-XG</li><li><strong>Ports</strong>: 16x 10G SFP+</li><li><strong>Management</strong>: Unifi Controller</li><li><strong>Location</strong>: Middle of rack</li></ul><h2 id="port-assignments" tabindex="-1">Port Assignments <a class="header-anchor" href="#port-assignments" aria-label="Permalink to &quot;Port Assignments&quot;">​</a></h2><h3 id="core-switch-usw-24-poe" tabindex="-1">Core Switch (USW-24-POE) <a class="header-anchor" href="#core-switch-usw-24-poe" aria-label="Permalink to &quot;Core Switch (USW-24-POE)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Port</th><th>Connected Device</th><th>VLAN</th><th>PoE</th><th>Notes</th></tr></thead><tbody><tr><td>1</td><td>pfSense Router</td><td>Trunk</td><td>No</td><td>All VLANs</td></tr><tr><td>2</td><td>Server Switch</td><td>Trunk</td><td>No</td><td>All VLANs</td></tr><tr><td>3</td><td>Main AP</td><td>Trunk</td><td>Yes</td><td>VLANs 10, 40, 50</td></tr><tr><td>4</td><td>IoT AP</td><td>Trunk</td><td>Yes</td><td>VLANs 10, 30</td></tr><tr><td>5</td><td>Office AP</td><td>Trunk</td><td>Yes</td><td>VLANs 10, 40, 50</td></tr><tr><td>6</td><td>IP Camera 1</td><td>30</td><td>Yes</td><td>Front door</td></tr><tr><td>7</td><td>IP Camera 2</td><td>30</td><td>Yes</td><td>Back yard</td></tr><tr><td>8</td><td>IP Camera 3</td><td>30</td><td>Yes</td><td>Driveway</td></tr><tr><td>9</td><td>Smart Home Hub</td><td>30</td><td>Yes</td><td>Zigbee/Z-Wave controller</td></tr><tr><td>10</td><td>Desktop PC</td><td>10</td><td>No</td><td>Management workstation</td></tr><tr><td>11</td><td>Printer</td><td>10</td><td>No</td><td>Network printer</td></tr><tr><td>12-24</td><td>Available</td><td>-</td><td>-</td><td>Spare ports</td></tr></tbody></table><h3 id="server-switch-usw-16-xg" tabindex="-1">Server Switch (USW-16-XG) <a class="header-anchor" href="#server-switch-usw-16-xg" aria-label="Permalink to &quot;Server Switch (USW-16-XG)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Port</th><th>Connected Device</th><th>VLAN</th><th>Speed</th><th>Notes</th></tr></thead><tbody><tr><td>1</td><td>Core Switch</td><td>Trunk</td><td>10G</td><td>All VLANs</td></tr><tr><td>2</td><td>Main Server</td><td>Trunk</td><td>10G</td><td>VLANs 10, 20, 30, 50</td></tr><tr><td>3</td><td>Backup Server</td><td>Trunk</td><td>10G</td><td>VLANs 10, 20</td></tr><tr><td>4</td><td>NAS</td><td>Trunk</td><td>10G</td><td>VLANs 10, 20, 50</td></tr><tr><td>5-16</td><td>Available</td><td>-</td><td>-</td><td>Spare ports</td></tr></tbody></table><h2 id="vlan-configuration" tabindex="-1">VLAN Configuration <a class="header-anchor" href="#vlan-configuration" aria-label="Permalink to &quot;VLAN Configuration&quot;">​</a></h2><table tabindex="0"><thead><tr><th>VLAN ID</th><th>Name</th><th>Tagged Ports</th><th>Untagged Ports</th></tr></thead><tbody><tr><td>1</td><td>Default</td><td>None</td><td>None</td></tr><tr><td>10</td><td>Management</td><td>1-5</td><td>10-11</td></tr><tr><td>20</td><td>Servers</td><td>1-4</td><td>None</td></tr><tr><td>30</td><td>IoT</td><td>1, 3-4</td><td>6-9</td></tr><tr><td>40</td><td>Guest</td><td>1, 3, 5</td><td>None</td></tr><tr><td>50</td><td>Media</td><td>1-5</td><td>None</td></tr></tbody></table><h2 id="spanning-tree-configuration" tabindex="-1">Spanning Tree Configuration <a class="header-anchor" href="#spanning-tree-configuration" aria-label="Permalink to &quot;Spanning Tree Configuration&quot;">​</a></h2><ul><li><strong>Protocol</strong>: RSTP (Rapid Spanning Tree Protocol)</li><li><strong>Root Bridge</strong>: Core Switch</li><li><strong>Priority</strong>: 4096</li><li><strong>Path Cost Method</strong>: 802.1d</li></ul><h2 id="link-aggregation" tabindex="-1">Link Aggregation <a class="header-anchor" href="#link-aggregation" aria-label="Permalink to &quot;Link Aggregation&quot;">​</a></h2><table tabindex="0"><thead><tr><th>LAG Group</th><th>Ports</th><th>Type</th><th>Connected To</th><th>Notes</th></tr></thead><tbody><tr><td>LAG1</td><td>1-2</td><td>LACP</td><td>pfSense Router</td><td>2Gbps trunk</td></tr><tr><td>LAG2</td><td>2-3</td><td>LACP</td><td>Server Switch</td><td>20Gbps trunk</td></tr></tbody></table><h2 id="quality-of-service-qos" tabindex="-1">Quality of Service (QoS) <a class="header-anchor" href="#quality-of-service-qos" aria-label="Permalink to &quot;Quality of Service (QoS)&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Traffic Type</th><th>Priority</th><th>DSCP Marking</th><th>Queue</th></tr></thead><tbody><tr><td>VoIP</td><td>Highest</td><td>EF (46)</td><td>7</td></tr><tr><td>Video Streaming</td><td>High</td><td>AF41 (34)</td><td>6</td></tr><tr><td>Management</td><td>Medium-High</td><td>CS4 (32)</td><td>5</td></tr><tr><td>Web Browsing</td><td>Medium</td><td>AF21 (18)</td><td>4</td></tr><tr><td>File Transfers</td><td>Medium-Low</td><td>AF11 (10)</td><td>3</td></tr><tr><td>Background</td><td>Low</td><td>CS1 (8)</td><td>2</td></tr><tr><td>Default</td><td>Lowest</td><td>0</td><td>1</td></tr></tbody></table><h2 id="poe-configuration" tabindex="-1">PoE Configuration <a class="header-anchor" href="#poe-configuration" aria-label="Permalink to &quot;PoE Configuration&quot;">​</a></h2><ul><li><strong>PoE Mode</strong>: Auto</li><li><strong>Power Budget Management</strong>: Enabled</li><li><strong>Priority Devices</strong>: Access Points, Security Cameras</li></ul><h2 id="firmware-management" tabindex="-1">Firmware Management <a class="header-anchor" href="#firmware-management" aria-label="Permalink to &quot;Firmware Management&quot;">​</a></h2><ul><li><strong>Current Version</strong>: 7.4.156</li><li><strong>Auto-Update</strong>: Disabled</li><li><strong>Update Schedule</strong>: Manual during maintenance window</li></ul><h2 id="backup-configuration" tabindex="-1">Backup Configuration <a class="header-anchor" href="#backup-configuration" aria-label="Permalink to &quot;Backup Configuration&quot;">​</a></h2><ul><li><strong>Backup Schedule</strong>: Weekly</li><li><strong>Backup Location</strong>: Backup Server (10.0.20.11)</li><li><strong>Retention</strong>: 12 weeks</li></ul><h2 id="monitoring" tabindex="-1">Monitoring <a class="header-anchor" href="#monitoring" aria-label="Permalink to &quot;Monitoring&quot;">​</a></h2><ul><li><strong>SNMP</strong>: Enabled (v3)</li><li><strong>Syslog</strong>: Enabled, sending to Monitoring VM (10.0.20.30)</li><li><strong>NetFlow</strong>: Enabled, sending to Monitoring VM (10.0.20.30)</li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><h3 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h3><h4 id="port-flapping" tabindex="-1">Port Flapping <a class="header-anchor" href="#port-flapping" aria-label="Permalink to &quot;Port Flapping&quot;">​</a></h4><ol><li>Check cable integrity</li><li>Verify no loops exist in the network</li><li>Check for PoE power budget issues</li><li>Review device power requirements</li></ol><h4 id="high-cpu-memory-usage" tabindex="-1">High CPU/Memory Usage <a class="header-anchor" href="#high-cpu-memory-usage" aria-label="Permalink to &quot;High CPU/Memory Usage&quot;">​</a></h4><ol><li>Check for broadcast storms</li><li>Review traffic patterns in controller</li><li>Verify firmware is up to date</li><li>Check for unauthorized devices</li></ol><h4 id="poe-problems" tabindex="-1">PoE Problems <a class="header-anchor" href="#poe-problems" aria-label="Permalink to &quot;PoE Problems&quot;">​</a></h4><ol><li>Verify PoE budget is not exceeded</li><li>Check device PoE compatibility</li><li>Try resetting the port</li><li>Test with a different PoE device</li></ol><h2 id="maintenance-procedures" tabindex="-1">Maintenance Procedures <a class="header-anchor" href="#maintenance-procedures" aria-label="Permalink to &quot;Maintenance Procedures&quot;">​</a></h2><h3 id="firmware-updates" tabindex="-1">Firmware Updates <a class="header-anchor" href="#firmware-updates" aria-label="Permalink to &quot;Firmware Updates&quot;">​</a></h3><ol><li>Download firmware from Unifi</li><li>Schedule maintenance window</li><li>Backup switch configuration</li><li>Apply update through controller</li><li>Verify all services return to normal</li></ol><h3 id="adding-new-vlans" tabindex="-1">Adding New VLANs <a class="header-anchor" href="#adding-new-vlans" aria-label="Permalink to &quot;Adding New VLANs&quot;">​</a></h3><ol><li>Define VLAN in pfSense</li><li>Add VLAN to Unifi Controller</li><li>Update port profiles as needed</li><li>Update documentation</li><li>Test connectivity</li></ol>',41)]))}const f=e(i,[["render",o]]);export{g as __pageData,f as default};
